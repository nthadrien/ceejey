import{f as m,t as _,i as $,j as r,k as A,s as R,p as I,m as O,e as F,q as E,l as N,c as P,n as D,F as Q,d as U,u as q}from"./web.fQsWSnIh.js";var H=_('<form class="d-flex flex-column gap-2 p-1 rounded-1"><div class="p-2 rounded-2 border"><p class="border-bottom pb-2 fw-bold">All Categories</p><!$><!/><!$><!/></div><div class="p-2 rounded-2"><p class="border-bottom pb-2 fw-bold">Price Range</p><input type=range class=form-range name=minP min=1 max=100><p class="w-100 text-swanky text-center"> $ 1 - $ 12 </p></div><div class=p-2><p class="border-bottom pb-2 fw-bold">Others:</p><label class="form-check-label text-swanky form-check form-switch">promotion<input class=form-check-input type=checkbox role=switch name=promo></label></div><div class=pb-3><button class="btn btn-primary"type=submit><i class="bi bi-search smaller me-3"></i>search'),B=_('<p class=small><input type=radio class=btn-check name=category><label class="btn p-1 px-2 text-start text-swanky w-100"> <!$><!/> '),G=_('<p class=small><input type=radio class=btn-check name=category id=none value=none><label class="btn p-1 px-2 text-start text-swanky w-100"for=none> all categories ');const J=e=>{const s=async d=>{d.preventDefault();const l=new FormData(d.target),i=Object.fromEntries(l.entries()),a=new URLSearchParams(i).toString();window.location.search="?page=0&size=12&"+a};return(()=>{var d=m(H),l=d.firstChild,i=l.firstChild,a=i.nextSibling,[c,h]=$(a.nextSibling),g=c.nextSibling,[u,S]=$(g.nextSibling),n=l.nextSibling,b=n.nextSibling,p=b.firstChild,C=p.nextSibling,k=C.firstChild,z=k.nextSibling;return d.addEventListener("submit",s),r(l,(()=>{var x=A(()=>!!e.categories[0]);return()=>x()&&e.categories.map(o=>(()=>{var f=m(B),v=f.firstChild,t=v.nextSibling,y=t.firstChild,j=y.nextSibling,[w,L]=$(j.nextSibling);return w.nextSibling,R(v,"id",o),I(v,"value",o),R(t,"for",o),r(t,o,w,L),O(()=>I(v,"checked",e.initial?.category==o)),f})())})(),c,h),r(l,(()=>{var x=A(()=>e.initial.category!=="none");return()=>x()&&(()=>{var o=m(G),f=o.firstChild;return O(()=>I(f,"checked",e.initial?.category=="none")),o})()})(),u,S),O(()=>I(z,"checked",e.initial?.promo=="on")),d})()};var K=_('<nav class="nav justify-content-between fw-semibold align-items-center gap-2 px-2"><div><!$><!/> of <!$><!/> items</div><div><button><i class="bi bi-grid-fill"></i></button><button><i class="bi bi-list-task"></i></button></div><p class="d-flex align-items-center">sort by:<select style=max-width:90px; name=sort class="border-0 smaller form-select"><option value=price>Price</option><option value=popularity>popularity');function V(e){const s=()=>{const l=(e.current.page+1)*e.current.size,i=l-e.size;return l<=e.size?l:l-i},d=l=>{const i=new URLSearchParams({...e.current,sortby:l.currentTarget.value}).toString();window.location.search="?"+i};return(()=>{var l=m(K),i=l.firstChild,a=i.firstChild,[c,h]=$(a.nextSibling),g=c.nextSibling,u=g.nextSibling,[S,n]=$(u.nextSibling);S.nextSibling;var b=i.nextSibling,p=b.firstChild,C=p.nextSibling,k=b.nextSibling,z=k.firstChild,x=z.nextSibling;return r(i,s,c,h),r(i,()=>e.size,S,n),p.$$click=()=>e.changeStyle(1),C.$$click=()=>e.changeStyle(2),x.addEventListener("change",d),O(o=>{var f=`btn btn-sm ${e.displayStyle==1?"btn-outline-info":""}`,v=`btn btn-sm ${e.displayStyle==2?"btn-outline-info":""}`;return f!==o.e&&E(p,o.e=f),v!==o.t&&E(C,o.t=v),o},{e:void 0,t:void 0}),N(),l})()}F(["click"]);var W=_('<small style=width:fit-content;z-index:1 class="position-absolute text-pacifico start-0 top-0 p-2 text-bg-primary rounded-2">- <!$><!/> %'),X=_("<p class=mt-3><b>Description</b> <br><!$><!/>"),Y=_('<aside><!$><!/><div><img style=height:220px; class="rounded-0 object-fit-contain"></div><div class="card-body col lh-sm"><a><h6 class=card-title></h6><p class="card-text text-muted nav justify-content-between"><span></span><span class=text-success>$<!$><!/></span></p><!$><!/></a><div><button class="btn bg-body shadow-sm"><i class="bi bi-handbag"></i></button><button class="btn bg-body shadow-sm"><i class="bi bi-stars">');function Z(e){return(()=>{var s=m(Y),d=s.firstChild,[l,i]=$(d.nextSibling),a=l.nextSibling,c=a.firstChild,h=a.nextSibling,g=h.firstChild,u=g.firstChild,S=u.nextSibling,n=S.firstChild,b=n.nextSibling,p=b.firstChild,C=p.nextSibling,[k,z]=$(C.nextSibling),x=S.nextSibling,[o,f]=$(x.nextSibling),v=g.nextSibling;return r(s,P(D,{get when(){return e.discount&&e.discount>0},get children(){var t=m(W),y=t.firstChild,j=y.nextSibling,[w,L]=$(j.nextSibling);return w.nextSibling,r(t,()=>e.discount,w,L),t}}),l,i),r(u,()=>e.name),r(n,()=>e.category),r(b,()=>e.price,k,z),r(g,P(D,{get when(){return e.displayStyle==2},get children(){var t=m(X),y=t.firstChild,j=y.nextSibling,w=j.nextSibling,L=w.nextSibling,[T,M]=$(L.nextSibling);return r(t,()=>e.description??"ooopps someting went wrong",T,M),t}}),o,f),O(t=>{var y=`product-card position-relative ${e.displayStyle===2?"d-flex gap-2 justify-content-between align-items-center p-2":"card p-1"}`,j=e.displayStyle===2?"col-4 col-lg-5":"col",w=`/images/products/${e.images[0]}`,L=`${e.name}`,T=`/shop/${e.category}/${e.id}`,M=`nav  gap-2 ${e.displayStyle==1?"options position-absolute":""}`;return y!==t.e&&E(s,t.e=y),j!==t.t&&E(a,t.t=j),w!==t.a&&R(c,"src",t.a=w),L!==t.o&&R(c,"alt",t.o=L),T!==t.i&&R(g,"href",t.i=T),M!==t.n&&E(v,t.n=M),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s})()}var ee=_('<section id=paginate class="col-12 nav justify-content-between gap-2 text-swanky"><div class="d-flex align-items-center gap-2"><select style=max-height:3rem; name=itemsPerPage class="btn btn-sm border-0"><option value=12>12</option><option value=24>24</option><option value=36>36</option><option value=60>60</option></select>items per page</div><div>'),te=_("<button>");function ne(e){const s=i=>{const a=new URLSearchParams({...e.info,size:parseInt(i.currentTarget.value),page:0}).toString();window.location.search="?"+a},d=i=>{const a=new URLSearchParams({...e.info,page:i}).toString();window.location.search="?"+a},l=()=>{const i=Math.ceil(e.listSize/e.info.size);let a=[];for(let c=0;c<i;c++)a.push(c);return a};return(()=>{var i=m(ee),a=i.firstChild,c=a.firstChild,h=a.nextSibling;return c.addEventListener("change",s),r(h,P(Q,{get each(){return l()},children:g=>(()=>{var u=m(te);return u.$$click=S=>d(g),r(u,g+1),O(()=>E(u,`btn ${g==e.info.page?"btn-primary":""}`)),N(),u})()})),i})()}F(["click"]);const ie={page:0,size:12,category:"none",minP:1,maxP:100};var le=_('<main class="nav flex-column container mx-auto"><img style=min-height:20vh src=/load.gif class="ratio ratio-1x1 mx-auto"alt=gg><h2 class="text-swanky fw-bold text-center">Please be patient ');function ae(){return m(le)}var re=_('<main style=max-width:1280px; class="container g-2 row mx-auto"><!$><!/><aside class=col-md-3></aside><section class="col-md-9 nav flex-column justify-content-between "><div></div><!$><!/>'),se=_("<div class=col>");function ce(e){const[s,d]=U(ie),[l,i]=U(!0),[a,c]=U(1);q(()=>{const n=Object.fromEntries(new URLSearchParams(window?.location.search)),b={page:n.page?parseInt(n.page):0,size:n.size?parseInt(n.size):6,category:n.category?n.category:"none",minP:n.minP?parseInt(n.minP):1,maxP:n.maxP?parseInt(n.maxP):100,promo:n.promo??"none",sortby:n.sorty??"none"};d(b)});const h=A(()=>{const n=s().category;return new Promise(b=>setTimeout(()=>i(!1),600)),e.products.filter(b=>["none","null","undefined",null,void 0].includes(n)?!0:b.category===n)}),g=()=>s().page*s().size,u=()=>g()+s().size,S=n=>c(n);return P(D,{get when(){return!l()},get fallback(){return P(ae,{})},get children(){var n=m(re),b=n.firstChild,[p,C]=$(b.nextSibling),k=p.nextSibling,z=k.nextSibling,x=z.firstChild,o=x.nextSibling,[f,v]=$(o.nextSibling);return r(n,P(V,{get displayStyle(){return a()},changeStyle:S,get current(){return s()},get size(){return h().length}}),p,C),r(k,P(J,{get initial(){return s()},get brands(){return e.brands},get categories(){return e.categories}})),r(x,P(Q,{get each(){return h().slice(g(),u())},children:t=>(()=>{var y=m(se);return r(y,P(Z,{get id(){return t.id},get name(){return t.name},get price(){return t.price},get images(){return t.images},get category(){return t.category},get brand(){return t.brand},get discount(){return t.discount},get displayStyle(){return a()},get description(){return t.description}})),y})()})),r(z,P(ne,{get info(){return s()},get listSize(){return h().length}}),f,v),O(()=>E(x,`row  ${a()===1?"row-cols-2 row-cols-lg-3 row-cols-xl-4":"row-cols-1 row-cols-xl-2"} g-1 g-lg-2 mb-4 p-2`)),n}})}export{ce as default};
