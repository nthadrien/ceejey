import{f as $,t as m,i as v,j as r,k as I,s as R,p as T,m as j,e as N,q as L,l as D,c as p,n as U,F as Q,d as M,u as q}from"./web.fQsWSnIh.js";var H=m('<form class="d-flex flex-column gap-2 p-1 rounded-1"><div class="p-2 rounded-2 border"><p class="border-bottom pb-2 fw-bold">All Categories</p><!$><!/><!$><!/></div><div class="p-2 rounded-2"><p class="border-bottom pb-2 fw-bold">Price Range</p><input type=range class=form-range name=minP min=1 max=100><p class="w-100 text-swanky text-center"> $ 1 - $ 12 </p></div><div class=p-2><p class="border-bottom pb-2 fw-bold">Others:</p><label class="form-check-label text-swanky form-check form-switch">promotion<input class=form-check-input type=checkbox role=switch name=promo></label></div><div class=pb-3><button class="btn btn-primary"type=submit><i class="bi bi-search smaller me-3"></i>search'),B=m('<p class=small><input type=radio class=btn-check name=category><label class="btn p-1 px-2 text-start text-swanky w-100"> <!$><!/> '),G=m('<p class=small><input type=radio class=btn-check name=category id=none value=none><label class="btn p-1 px-2 text-start text-swanky w-100"for=none> all categories ');const J=e=>{const s=async g=>{g.preventDefault();const l=new FormData(g.target),i=Object.fromEntries(l.entries()),a=new URLSearchParams(i).toString();window.location.search="?page=0&size=12&"+a};return(()=>{var g=$(H),l=g.firstChild,i=l.firstChild,a=i.nextSibling,[c,h]=v(a.nextSibling),d=c.nextSibling,[b,y]=v(d.nextSibling),n=l.nextSibling,u=n.nextSibling,S=u.firstChild,P=S.nextSibling,C=P.firstChild,k=C.nextSibling;return g.addEventListener("submit",s),r(l,(()=>{var _=I(()=>!!e.categories[0]);return()=>_()&&e.categories.map(o=>(()=>{var f=$(B),x=f.firstChild,t=x.nextSibling,w=t.firstChild,O=w.nextSibling,[z,E]=v(O.nextSibling);return z.nextSibling,R(x,"id",o),T(x,"value",o),R(t,"for",o),r(t,o,z,E),j(()=>T(x,"checked",e.initial?.category==o)),f})())})(),c,h),r(l,(()=>{var _=I(()=>e.initial.category!=="none");return()=>_()&&(()=>{var o=$(G),f=o.firstChild;return j(()=>T(f,"checked",e.initial?.category=="none")),o})()})(),b,y),j(()=>T(k,"checked",e.initial?.promo=="on")),g})()};var K=m('<nav class="nav justify-content-between fw-semibold align-items-center gap-2 px-2"><div><!$><!/> of <!$><!/> items</div><div><button><i class="bi bi-grid-fill"></i></button><button><i class="bi bi-list-task"></i></button></div><p class="d-flex align-items-center">sort by:<select style=max-width:90px; name=sort class="border-0 smaller form-select"><option value=price>Price</option><option value=popularity>popularity');function V(e){const s=()=>{const l=(e.current.page+1)*e.current.size,i=l-e.size;return l<=e.size?l:l-i},g=l=>{const i=new URLSearchParams({...e.current,sortby:l.currentTarget.value}).toString();window.location.search="?"+i};return(()=>{var l=$(K),i=l.firstChild,a=i.firstChild,[c,h]=v(a.nextSibling),d=c.nextSibling,b=d.nextSibling,[y,n]=v(b.nextSibling);y.nextSibling;var u=i.nextSibling,S=u.firstChild,P=S.nextSibling,C=u.nextSibling,k=C.firstChild,_=k.nextSibling;return r(i,s,c,h),r(i,()=>e.size,y,n),S.$$click=()=>e.changeStyle(1),P.$$click=()=>e.changeStyle(2),_.addEventListener("change",g),j(o=>{var f=`btn btn-sm ${e.displayStyle==1?"btn-outline-info":""}`,x=`btn btn-sm ${e.displayStyle==2?"btn-outline-info":""}`;return f!==o.e&&L(S,o.e=f),x!==o.t&&L(P,o.t=x),o},{e:void 0,t:void 0}),D(),l})()}N(["click"]);var W=m('<small style=width:fit-content;z-index:1 class="position-absolute text-pacifico start-0 top-0 p-2 text-bg-primary rounded-2">- <!$><!/> %'),X=m("<p class=mt-3>"),Y=m('<aside><!$><!/><div style=height:225px;><img style=height:220px; class="rounded-0 object-fit-fill"></div><div class="card-body col"><a class=lh-lg><h6 class=card-title></h6><p class="card-text text-muted nav justify-content-between"><span></span><span class=text-success>$<!$><!/></span></p><!$><!/></a><div><button class=btn><i class="bi bi-handbag"></i></button><button class=btn><i class="bi bi-stars">');function Z(e){return(()=>{var s=$(Y),g=s.firstChild,[l,i]=v(g.nextSibling),a=l.nextSibling,c=a.firstChild,h=a.nextSibling,d=h.firstChild,b=d.firstChild,y=b.nextSibling,n=y.firstChild,u=n.nextSibling,S=u.firstChild,P=S.nextSibling,[C,k]=v(P.nextSibling),_=y.nextSibling,[o,f]=v(_.nextSibling),x=d.nextSibling;return r(s,p(U,{get when(){return e.discount&&e.discount>0},get children(){var t=$(W),w=t.firstChild,O=w.nextSibling,[z,E]=v(O.nextSibling);return z.nextSibling,r(t,()=>e.discount,z,E),t}}),l,i),r(b,()=>e.name),r(n,()=>e.category),r(u,()=>e.price,C,k),r(d,p(U,{get when(){return e.displayStyle==2},get children(){var t=$(X);return r(t,()=>e.description??"ooopps someting went wrong"),t}}),o,f),j(t=>{var w=`product-card position-relative d-flex align-items-center gap-2 p-2 border ${e.displayStyle===2?"justify-content-between":"flex-column"}`,O=`bg-body-tertiary ${e.displayStyle===2?"col-4 col-lg-5":"col"}`,z=`/images/products/${e.images[0]}`,E=`${e.name}`,A=`/shop/${e.category}/${e.id}`,F=`bg-body nav gap-2 ${e.displayStyle==1?"options position-absolute shadow-sm":""}`;return w!==t.e&&L(s,t.e=w),O!==t.t&&L(a,t.t=O),z!==t.a&&R(c,"src",t.a=z),E!==t.o&&R(c,"alt",t.o=E),A!==t.i&&R(d,"href",t.i=A),F!==t.n&&L(x,t.n=F),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s})()}var ee=m('<section id=paginate class="col-12 nav justify-content-between gap-2 text-swanky"><div class="d-flex align-items-center gap-2"><select style=max-height:3rem; name=itemsPerPage class="btn btn-sm border-0"><option value=12>12</option><option value=24>24</option><option value=36>36</option><option value=60>60</option></select>items per page</div><div>'),te=m("<button>");function ne(e){const s=i=>{const a=new URLSearchParams({...e.info,size:parseInt(i.currentTarget.value),page:0}).toString();window.location.search="?"+a},g=i=>{const a=new URLSearchParams({...e.info,page:i}).toString();window.location.search="?"+a},l=()=>{const i=Math.ceil(e.listSize/e.info.size);let a=[];for(let c=0;c<i;c++)a.push(c);return a};return(()=>{var i=$(ee),a=i.firstChild,c=a.firstChild,h=a.nextSibling;return c.addEventListener("change",s),r(h,p(Q,{get each(){return l()},children:d=>(()=>{var b=$(te);return b.$$click=y=>g(d),r(b,d+1),j(()=>L(b,`btn ${d==e.info.page?"btn-primary":""}`)),D(),b})()})),i})()}N(["click"]);const ie={page:0,size:12,category:"none",minP:1,maxP:100};var le=m('<main class="nav flex-column container mx-auto"><h2 class="text-swanky fw-bold text-center">Please be patient ');function ae(){return $(le)}var re=m('<main style=max-width:1280px; class="container g-2 row mx-auto"><!$><!/><aside class=col-md-3></aside><section class="col-md-9 nav flex-column justify-content-between "><div></div><!$><!/>'),se=m("<div class=col>");function ce(e){const[s,g]=M(ie),[l,i]=M(!0),[a,c]=M(1);q(()=>{const n=Object.fromEntries(new URLSearchParams(window?.location.search)),u={page:n.page?parseInt(n.page):0,size:n.size?parseInt(n.size):6,category:n.category?n.category:"none",minP:n.minP?parseInt(n.minP):1,maxP:n.maxP?parseInt(n.maxP):100,promo:n.promo??"none",sortby:n.sorty??"none"};g(u)});const h=I(()=>{const n=s().category;return new Promise(u=>setTimeout(()=>i(!1),200)),e.products.filter(u=>["none","null","undefined",null,void 0].includes(n)?!0:u.category===n)}),d=()=>s().page*s().size,b=()=>d()+s().size,y=n=>c(n);return p(U,{get when(){return!l()},get fallback(){return p(ae,{})},get children(){var n=$(re),u=n.firstChild,[S,P]=v(u.nextSibling),C=S.nextSibling,k=C.nextSibling,_=k.firstChild,o=_.nextSibling,[f,x]=v(o.nextSibling);return r(n,p(V,{get displayStyle(){return a()},changeStyle:y,get current(){return s()},get size(){return h().length}}),S,P),r(C,p(J,{get initial(){return s()},get brands(){return e.brands},get categories(){return e.categories}})),r(_,p(Q,{get each(){return h().slice(d(),b())},children:t=>(()=>{var w=$(se);return r(w,p(Z,{get id(){return t.id},get name(){return t.name},get price(){return t.price},get images(){return t.images},get category(){return t.category},get brand(){return t.brand},get discount(){return t.discount},get displayStyle(){return a()},get description(){return t.description}})),w})()})),r(k,p(ne,{get info(){return s()},get listSize(){return h().length}}),f,x),j(()=>L(_,`row  ${a()===1?"row-cols-2 row-cols-lg-3 row-cols-xl-4":"row-cols-1 row-cols-xl-2"} g-2 g-lg-3 mb-4 p-2`)),n}})}export{ce as default};
